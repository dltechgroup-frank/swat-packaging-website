---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/sections/Hero.astro';
import Container from '../../components/ui/Container.astro';
import Badge from '../../components/ui/Badge.astro';
import AuditForm from '../../components/sections/AuditForm.astro';
import TrustBar from '../../components/sections/TrustBar.astro';
import type { Locale } from '../../i18n/config';
import { t } from '../../i18n/utils';

const locale: Locale = 'en';

const auditStats = [
  { value: t(locale, 'audit.stat1Value'), suffix: t(locale, 'audit.stat1Suffix'), label: t(locale, 'audit.stat1Label') },
  { value: t(locale, 'audit.stat2Value'), suffix: t(locale, 'audit.stat2Suffix'), label: t(locale, 'audit.stat2Label') },
  { value: t(locale, 'audit.stat3Value'), suffix: t(locale, 'audit.stat3Suffix'), label: t(locale, 'audit.stat3Label') },
  { value: t(locale, 'audit.stat4Value'), prefix: t(locale, 'audit.stat4Prefix'), suffix: t(locale, 'audit.stat4Suffix'), label: t(locale, 'audit.stat4Label') },
];
---

<BaseLayout
  title={t(locale, 'audit.title')}
  description={t(locale, 'audit.metaDesc')}
  locale={locale}
>
  <Hero
    title={t(locale, 'audit.heroTitle')}
    subtitle={t(locale, 'audit.heroSubtitle')}
    image="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&w=1920&q=80"
    compact
  />

  <section class="py-16 lg:py-20 bg-white">
    <Container>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {[
          {
            icon: 'M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25 4.5-4.5',
            title: t(locale, 'audit.vpReduceTitle'),
            description: t(locale, 'audit.vpReduceDesc'),
          },
          {
            icon: 'M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0H21M3.375 14.25h17.25',
            title: t(locale, 'audit.vpFreightTitle'),
            description: t(locale, 'audit.vpFreightDesc'),
          },
          {
            icon: 'M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622',
            title: t(locale, 'audit.vpComplianceTitle'),
            description: t(locale, 'audit.vpComplianceDesc'),
          },
        ].map((item) => (
          <div class="text-center p-6" data-animate>
            <div class="w-14 h-14 bg-accent-50 rounded-2xl flex items-center justify-center mx-auto mb-4">
              <svg class="w-7 h-7 text-accent-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d={item.icon} />
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-veritiv-900 mb-2">{item.title}</h3>
            <p class="text-sm text-body-muted leading-relaxed">{item.description}</p>
          </div>
        ))}
      </div>
    </Container>
  </section>

  <!-- 8 Evaluation Areas -->
  <section class="py-16 lg:py-20 bg-surface-light">
    <Container>
      <div class="text-center mb-12" data-animate>
        <Badge>{t(locale, 'audit.evalSectionTag')}</Badge>
        <h2 class="mt-4 text-3xl lg:text-4xl font-bold text-veritiv-900">
          {t(locale, 'audit.evalSectionTitle')}
        </h2>
        <p class="mt-3 text-body-muted max-w-2xl mx-auto">
          {t(locale, 'audit.evalSectionSubtitle')}
        </p>
      </div>

      <div class="max-w-5xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {[1,2,3,4,5,6,7,8].map((n) => (
          <div class="bg-white rounded-xl p-5 border border-veritiv-100 hover:shadow-md transition-shadow" data-animate>
            <div class="w-10 h-10 bg-accent-50 rounded-lg flex items-center justify-center mb-3">
              <span class="text-accent-500 font-bold text-sm">{String(n).padStart(2, '0')}</span>
            </div>
            <h3 class="font-semibold text-veritiv-900 text-sm mb-2">{t(locale, `audit.eval${n}Title`)}</h3>
            <p class="text-xs text-body-muted leading-relaxed">{t(locale, `audit.eval${n}Desc`)}</p>
          </div>
        ))}
      </div>

      <!-- 3 Deliverables -->
      <div class="mt-12 max-w-3xl mx-auto" data-animate>
        <h3 class="text-xl font-bold text-veritiv-900 mb-6 text-center">
          {t(locale, 'audit.deliverablesSectionTitle')}
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {[1,2,3].map((n) => (
            <div class="text-center p-4 bg-white rounded-xl border border-veritiv-100">
              <div class="w-8 h-8 bg-accent-500 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-sm">{n}</div>
              <p class="text-sm text-veritiv-700">{t(locale, `audit.deliverable${n}`)}</p>
            </div>
          ))}
        </div>
      </div>
    </Container>
  </section>

  <AuditForm locale={locale} />

  <TrustBar stats={auditStats} />
</BaseLayout>
