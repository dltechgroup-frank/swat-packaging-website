---
import type { Locale } from '../../i18n/config';
import { t } from '../../i18n/utils';
import Container from '../ui/Container.astro';

interface Props {
  locale?: Locale;
}

const { locale = 'es' } = Astro.props;

const milestones = [
  {
    year: t(locale, 'timeline.m1Year'),
    title: t(locale, 'timeline.m1Title'),
    description: t(locale, 'timeline.m1Desc'),
  },
  {
    year: t(locale, 'timeline.m2Year'),
    title: t(locale, 'timeline.m2Title'),
    description: t(locale, 'timeline.m2Desc'),
  },
  {
    year: t(locale, 'timeline.m3Year'),
    title: t(locale, 'timeline.m3Title'),
    description: t(locale, 'timeline.m3Desc'),
  },
  {
    year: t(locale, 'timeline.m4Year'),
    title: t(locale, 'timeline.m4Title'),
    description: t(locale, 'timeline.m4Desc'),
  },
  {
    year: t(locale, 'timeline.m5Year'),
    title: t(locale, 'timeline.m5Title'),
    description: t(locale, 'timeline.m5Desc'),
  },
  {
    year: t(locale, 'timeline.m6Year'),
    title: t(locale, 'timeline.m6Title'),
    description: t(locale, 'timeline.m6Desc'),
  },
];
---

<section class="py-20 lg:py-28 bg-surface-light">
  <Container>
    <div class="text-center mb-16" data-animate>
      <span class="inline-block px-3 py-1 text-xs font-semibold uppercase tracking-wider rounded-full bg-accent-50 text-accent-600 mb-4">
        {t(locale, 'timeline.tag')}
      </span>
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-veritiv-900 tracking-tight">
        {t(locale, 'timeline.title')}
      </h2>
    </div>

    <div class="relative">
      <!-- Vertical line -->
      <div class="absolute left-4 lg:left-1/2 top-0 bottom-0 w-px bg-veritiv-200 lg:-translate-x-px"></div>

      <div class="space-y-12">
        {milestones.map((milestone, i) => (
          <div
            class:list={[
              'relative flex items-start gap-8 lg:gap-0',
              i % 2 === 0 ? 'lg:flex-row' : 'lg:flex-row-reverse',
            ]}
            data-animate
          >
            <!-- Dot -->
            <div class="absolute left-4 lg:left-1/2 w-3 h-3 bg-accent-500 rounded-full ring-4 ring-surface-light -translate-x-1.5 lg:-translate-x-1.5 mt-1.5"></div>

            <!-- Content -->
            <div class:list={['ml-12 lg:ml-0 lg:w-1/2', i % 2 === 0 ? 'lg:pr-16 lg:text-right' : 'lg:pl-16']}>
              <span class="text-sm font-bold text-accent-500">{milestone.year}</span>
              <h3 class="text-lg font-semibold text-veritiv-900 mt-1">{milestone.title}</h3>
              <p class="text-sm text-body-muted mt-2 leading-relaxed">{milestone.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </Container>
</section>
