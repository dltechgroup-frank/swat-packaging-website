---
import type { Locale } from '../../i18n/config';
import { t } from '../../i18n/utils';
import Container from '../ui/Container.astro';

interface Props {
  locale?: Locale;
}

const { locale = 'es' } = Astro.props;
---

<section class="py-20 lg:py-28 bg-surface-light">
  <Container>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20">
      <!-- Form -->
      <div class="bg-white rounded-2xl shadow-lg border border-veritiv-100 p-8 lg:p-10" data-animate>
        <h3 class="text-xl font-bold text-veritiv-900 mb-2">
          {t(locale, 'audit.formTitle')}
        </h3>
        <p class="text-sm text-body-muted mb-8">
          {t(locale, 'audit.formSubtext')}
        </p>

        <form action="https://api.web3forms.com/submit" method="POST" class="space-y-5">
          <input type="hidden" name="access_key" value="YOUR_ACCESS_KEY_HERE" />
          <input type="hidden" name="subject" value="360Â° Packaging Audit Request" />
          <input type="hidden" name="from_name" value="SWAT Packaging Website" />
          <input type="hidden" name="source" value="audit-page" />
          <input type="checkbox" name="botcheck" class="hidden" />

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div>
              <label for="audit-name" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'audit.labelName')}</label>
              <input
                type="text"
                id="audit-name"
                name="name"
                required
                placeholder={t(locale, 'audit.placeholderName')}
                class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
              />
            </div>
            <div>
              <label for="audit-company" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'audit.labelCompany')}</label>
              <input
                type="text"
                id="audit-company"
                name="company"
                required
                placeholder={t(locale, 'audit.placeholderCompany')}
                class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
              />
            </div>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div>
              <label for="audit-email" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'audit.labelEmail')}</label>
              <input
                type="email"
                id="audit-email"
                name="email"
                required
                placeholder={t(locale, 'audit.placeholderEmail')}
                class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
              />
            </div>
            <div>
              <label for="audit-phone" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'audit.labelPhone')}</label>
              <input
                type="tel"
                id="audit-phone"
                name="phone"
                placeholder={t(locale, 'audit.placeholderPhone')}
                class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
              />
            </div>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div>
              <label for="audit-sector" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'audit.labelSector')}</label>
              <select
                id="audit-sector"
                name="sector"
                required
                class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition bg-white"
              >
                <option value="" disabled selected>{t(locale, 'audit.selectSector')}</option>
                <option value="Medical Device">{t(locale, 'form.optionMedical')}</option>
                <option value="Electronics">{t(locale, 'form.optionElectronics')}</option>
                <option value="Automotive">{t(locale, 'form.optionAutomotive')}</option>
                <option value="Other">{t(locale, 'form.optionOther')}</option>
              </select>
            </div>
            <div>
              <label for="audit-volume" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'audit.labelVolume')}</label>
              <select
                id="audit-volume"
                name="monthly_volume"
                required
                class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition bg-white"
              >
                <option value="" disabled selected>{t(locale, 'audit.selectVolume')}</option>
                <option value="Under 1,000 units">{t(locale, 'form.optionVolume1')}</option>
                <option value="1,000 - 10,000 units">{t(locale, 'form.optionVolume2')}</option>
                <option value="10,000 - 50,000 units">{t(locale, 'form.optionVolume3')}</option>
                <option value="50,000 - 100,000 units">{t(locale, 'form.optionVolume4')}</option>
                <option value="100,000+ units">{t(locale, 'form.optionVolume5')}</option>
              </select>
            </div>
          </div>

          <div>
            <label for="audit-message" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'audit.labelMessage')}</label>
            <textarea
              id="audit-message"
              name="message"
              rows="4"
              placeholder={t(locale, 'audit.placeholderMessage')}
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition resize-none"
            ></textarea>
          </div>

          <div class="h-captcha" data-captcha="true"></div>

          <button
            type="submit"
            class="w-full bg-accent-500 hover:bg-accent-600 text-white font-semibold py-4 rounded-lg transition-colors duration-200 text-sm focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2"
          >
            {t(locale, 'audit.submitButton')}
          </button>
        </form>
      </div>

      <!-- Sidebar -->
      <div class="space-y-8">
        <div data-animate>
          <h3 class="text-2xl font-bold text-veritiv-900 mb-4">
            {t(locale, 'audit.whatToExpect')}
          </h3>
          <ul class="space-y-4">
            {[
              { title: t(locale, 'audit.step1Title'), desc: t(locale, 'audit.step1Desc') },
              { title: t(locale, 'audit.step2Title'), desc: t(locale, 'audit.step2Desc') },
              { title: t(locale, 'audit.step3Title'), desc: t(locale, 'audit.step3Desc') },
              { title: t(locale, 'audit.step4Title'), desc: t(locale, 'audit.step4Desc') },
            ].map(item => (
              <li class="flex items-start gap-3">
                <div class="flex-shrink-0 w-6 h-6 bg-accent-500 rounded-full flex items-center justify-center mt-0.5">
                  <svg class="w-3.5 h-3.5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                </div>
                <div>
                  <div class="font-semibold text-veritiv-900 text-sm">{item.title}</div>
                  <p class="text-sm text-body-muted mt-0.5">{item.desc}</p>
                </div>
              </li>
            ))}
          </ul>
        </div>

        <!-- AI Agent Badge -->
        <div class="bg-veritiv-900 rounded-xl p-6" data-animate>
          <div class="flex items-center gap-3 mb-3">
            <div class="w-8 h-8 bg-accent-500 rounded-lg flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z" />
              </svg>
            </div>
            <span class="text-xs font-semibold uppercase tracking-wider text-accent-400">{t(locale, 'audit.aiBadgeTitle')}</span>
          </div>
          <p class="text-sm text-veritiv-200 leading-relaxed">
            {t(locale, 'audit.aiBadgeDesc')}
          </p>
        </div>

        <!-- Trust indicators -->
        <div class="flex items-center gap-6 text-sm text-body-muted" data-animate>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-accent-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
            </svg>
            {t(locale, 'audit.trustNoObligation')}
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-accent-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            {t(locale, 'audit.trustResponse')}
          </div>
        </div>
      </div>
    </div>
  </Container>
</section>

<script src="https://web3forms.com/client/script.js" async defer></script>
