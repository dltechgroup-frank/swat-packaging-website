---
import type { Locale } from '../../i18n/config';
import { t } from '../../i18n/utils';
import Container from '../ui/Container.astro';

interface Props {
  locale?: Locale;
}

const { locale = 'es' } = Astro.props;
---

<section class="py-20 lg:py-28 bg-veritiv-900 relative overflow-hidden">
  <!-- Background image -->
  <div class="absolute inset-0">
    <img
      src="https://images.unsplash.com/photo-1494412574643-ff11b0a5c1c3?auto=format&fit=crop&w=1920&q=80"
      alt=""
      class="absolute inset-0 w-full h-full object-cover"
    />
    <div class="absolute inset-0 bg-veritiv-900/85"></div>
  </div>

  <Container class="relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-start">
      <!-- Left: Copy -->
      <div>
        <span class="inline-block px-3 py-1 text-xs font-semibold uppercase tracking-wider rounded-full bg-accent-500/20 text-accent-400 mb-6" data-animate>
          {t(locale, 'nearshore.badge')}
        </span>

        <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white tracking-tight" data-animate>
          {t(locale, 'nearshore.title')}
        </h2>

        <p class="mt-4 text-lg text-accent-300 font-medium" data-animate>
          {t(locale, 'nearshore.subtitle')}
        </p>

        <div class="mt-6 space-y-4 text-veritiv-200 leading-relaxed" data-animate>
          <p>
            {t(locale, 'nearshore.body1')}
          </p>
          <p>
            {t(locale, 'nearshore.body2')}
          </p>
        </div>

        <!-- Stats row -->
        <div class="mt-10 grid grid-cols-3 gap-6" data-animate>
          <div>
            <div class="text-3xl font-bold text-white">48<span class="text-accent-400">hr</span></div>
            <p class="mt-1 text-xs text-veritiv-400">{t(locale, 'nearshore.stat1Label')}</p>
          </div>
          <div>
            <div class="text-3xl font-bold text-white">100<span class="text-accent-400">%</span></div>
            <p class="mt-1 text-xs text-veritiv-400">{t(locale, 'nearshore.stat2Label')}</p>
          </div>
          <div>
            <div class="text-3xl font-bold text-white">3 <span class="text-accent-400">{t(locale, 'nearshore.stat3Value')}</span></div>
            <p class="mt-1 text-xs text-veritiv-400">{t(locale, 'nearshore.stat3Label')}</p>
          </div>
        </div>

        <p class="mt-8 text-xs text-veritiv-500" data-animate>
          {t(locale, 'nearshore.sectorCallout')}
        </p>
      </div>

      <!-- Right: Lead Capture Form -->
      <div class="bg-white rounded-2xl shadow-2xl p-8 lg:p-10" data-animate>
        <h3 class="text-xl font-bold text-veritiv-900 mb-2">
          {t(locale, 'nearshore.formTitle')}
        </h3>
        <p class="text-sm text-body-muted mb-8">
          {t(locale, 'nearshore.formSubtext')}
        </p>

        <form action="https://api.web3forms.com/submit" method="POST" class="space-y-5">
          <input type="hidden" name="access_key" value="YOUR_ACCESS_KEY_HERE" />
          <input type="hidden" name="subject" value="Nearshoring Assessment Request" />
          <input type="hidden" name="from_name" value="SWAT Packaging Website" />
          <input type="hidden" name="source" value="nearshoring-section" />
          <input type="checkbox" name="botcheck" class="hidden" />

          <div>
            <label for="ns-name" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'nearshore.labelName')}</label>
            <input
              type="text"
              id="ns-name"
              name="name"
              required
              placeholder={t(locale, 'nearshore.placeholderName')}
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
            />
          </div>

          <div>
            <label for="ns-company" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'nearshore.labelCompany')}</label>
            <input
              type="text"
              id="ns-company"
              name="company"
              required
              placeholder={t(locale, 'nearshore.placeholderCompany')}
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
            />
          </div>

          <div>
            <label for="ns-email" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'nearshore.labelEmail')}</label>
            <input
              type="email"
              id="ns-email"
              name="email"
              required
              placeholder={t(locale, 'nearshore.placeholderEmail')}
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
            />
          </div>

          <div>
            <label for="ns-phone" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'nearshore.labelPhone')}</label>
            <input
              type="tel"
              id="ns-phone"
              name="phone"
              placeholder={t(locale, 'nearshore.placeholderPhone')}
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition"
            />
          </div>

          <div>
            <label for="ns-sector" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'nearshore.labelSector')}</label>
            <select
              id="ns-sector"
              name="sector"
              required
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition bg-white"
            >
              <option value="" disabled selected>{t(locale, 'nearshore.selectSector')}</option>
              <option value="Medical Device">{t(locale, 'nearshore.optionMedical')}</option>
              <option value="Electronics">{t(locale, 'nearshore.optionElectronics')}</option>
              <option value="Automotive">{t(locale, 'nearshore.optionAutomotive')}</option>
              <option value="Other">{t(locale, 'nearshore.optionOther')}</option>
            </select>
          </div>

          <div>
            <label for="ns-volume" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'nearshore.labelVolume')}</label>
            <select
              id="ns-volume"
              name="monthly_volume"
              required
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition bg-white"
            >
              <option value="" disabled selected>{t(locale, 'nearshore.selectVolume')}</option>
              <option value="Under 1,000 units">{t(locale, 'nearshore.optionVolume1')}</option>
              <option value="1,000 - 10,000 units">{t(locale, 'nearshore.optionVolume2')}</option>
              <option value="10,000 - 50,000 units">{t(locale, 'nearshore.optionVolume3')}</option>
              <option value="50,000 - 100,000 units">{t(locale, 'nearshore.optionVolume4')}</option>
              <option value="100,000+ units">{t(locale, 'nearshore.optionVolume5')}</option>
            </select>
          </div>

          <div>
            <label for="ns-challenge" class="block text-sm font-medium text-veritiv-700 mb-1">{t(locale, 'nearshore.labelChallenge')}</label>
            <textarea
              id="ns-challenge"
              name="challenge"
              rows="3"
              placeholder={t(locale, 'nearshore.placeholderChallenge')}
              class="w-full px-4 py-3 rounded-lg border border-veritiv-200 text-sm text-veritiv-900 placeholder:text-veritiv-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition resize-none"
            ></textarea>
          </div>

          <div class="h-captcha" data-captcha="true"></div>

          <button
            type="submit"
            class="w-full bg-accent-500 hover:bg-accent-600 text-white font-semibold py-4 rounded-lg transition-colors duration-200 text-sm focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2"
          >
            {t(locale, 'nearshore.submitButton')}
          </button>

          <p class="text-xs text-center text-body-muted">
            {t(locale, 'nearshore.submitNote')}
          </p>
        </form>
      </div>
    </div>
  </Container>
</section>

<script src="https://web3forms.com/client/script.js" async defer></script>
